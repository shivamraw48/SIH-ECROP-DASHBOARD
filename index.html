<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoCrop Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2d6a4f;
            --primary-dark: #1b4332;
            --background-color: #f4f7f6;
            --card-background: #ffffff;
            --text-color: #333;
            --status-optimal: #40916c;
            --status-caution: #fca311;
            --status-urgent: #d00000;
            --shadow-color: rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Roboto', sans-serif;
            color: var(--text-color);
            margin: 0;
            padding: 20px;

            background-image: linear-gradient(rgba(244, 247, 246, 0.85), rgba(244, 247, 246, 0.85)), url('https://images.unsplash.com/photo-1492496913980-501348b61469?q=80&w=1887&auto=format&fit=crop');
            background-size: cover;
            background-position: center center;
            background-attachment: fixed;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            text-align: left;
        }

        header h1 {
            color: var(--primary-color);
            font-size: 2.5em;
            margin-bottom: 5px;
        }

        #lang-selector {
            padding: 8px;
            font-size: 0.9em;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            gap: 30px;
        }

        .card {
            background-color: var(--card-background);
            border-radius: 10px;
            box-shadow: 0 4px 8px var(--shadow-color);
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }

        .section-title {
            font-size: 1.5em;
            font-weight: 500;
            color: var(--primary-dark);
            text-align: left;
            margin: 0;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }

        #connection-text {
            margin-right: 15px;
            font-weight: 500;
        }
        #connection-text.disconnected { color: var(--status-urgent); }
        #connection-text.connected { color: var(--status-optimal); }

        .connect-btn {
            padding: 8px 16px;
            font-size: 0.9em;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
        }

        .crop-selector-card {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 20px;
        }
        .selector-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .selector-group label {
            font-size: 1.2em;
            font-weight: 500;
        }
        .selector-group select {
            padding: 10px;
            font-size: 1em;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 250px;
        }

        .health-card {
            text-align: center;
            color: white;
            transition: background-color 0.5s ease;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
        .health-card h2 {
            margin-top: 0;
            font-size: 1.5em;
        }
        #health-score {
            font-size: 3.5em;
            font-weight: 700;
            margin-bottom: 0;
        }
        #health-status-text {
            font-size: 1.2em;
            font-weight: 500;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.9;
        }

        #health-details {
            font-size: 0.9em;
            margin-top: 5px;
            margin-bottom: 0;
            opacity: 0.9;
        }
        .status-optimal { background-color: var(--status-optimal); }
        .status-caution { background-color: var(--status-caution); }
        .status-urgent { background-color: var(--status-urgent); }
        .health-card.disconnected {
            background-color: #9e9e9e;
        }

        .improve-btn {
            background-color: rgba(255, 255, 255, 0.2);
            border: 1px solid #fff;
            color: #fff;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 15px;
            font-weight: 500;
            transition: background-color 0.3s ease;
            display: none;
        }
        .improve-btn:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }

        .sensor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        .sensor-card {
            text-align: center;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border-radius: 8px;
            padding: 10px;
        }
        .sensor-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .sensor-card h3 {
            margin-top: 0;
            font-size: 1.1em;
            color: var(--primary-color);
        }
        p.sensor-value {
            font-size: 2em;
            font-weight: 700;
            color: var(--primary-dark);
            margin: 10px 0 0 0;
            transition: color 0.5s ease;
        }
        .sensor-value.optimal { color: var(--status-optimal); }
        .sensor-value.caution { color: var(--status-caution); }
        .sensor-value.urgent { color: var(--status-urgent); }

        .sensor-status {
            font-size: 0.9em;
            font-weight: 500;
            margin-top: 5px;
            min-height: 1.2em;
            color: #555;
        }
        
        #sensor-disconnected-message {
            text-align: center;
            padding: 40px 20px;
            color: #555;
            border-top: 1px solid #eee;
            margin-top: 20px;
        }
        #sensor-disconnected-message p {
            margin: 0;
        }
        #sensor-disconnected-message p:first-child {
            font-size: 1.2em;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .condition-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            font-size: 1.1em;
            border-bottom: 1px solid #eee;
        }
        .condition-item:last-child {
            border-bottom: none;
        }
        .condition-item strong {
            color: var(--primary-dark);
            font-weight: 700;
        }

        .controls-recommendations-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        .control-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        .control-item:last-child {
            border-bottom: none;
        }
    .control-details {
        display: flex;
        flex-direction: column;
    }
    .control-name {
            font-size: 1.1em;
        }
    .control-status-text {
        font-size: 0.9em;
        color: #666;
        margin-top: 4px;
        min-height: 1em;
    }
    .control-history-text {
        font-size: 0.8em;
        color: #888;
        margin-top: 4px;
        min-height: 1em;
    }
    .control-actions {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    .reset-btn {
        background: none;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 4px 8px;
        font-size: 0.8em;
        cursor: pointer;
        color: #555;
    }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--primary-color);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }

        #recommendations-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        #recommendations-list li {
            background-color: #e9f5f0;
            border-left: 5px solid var(--primary-color);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        #recommendations-list li.urgent {
            border-left-color: var(--status-urgent);
            background-color: #fff0f0;
        }
        #recommendations-list li.caution {
            border-left-color: var(--status-caution);
            background-color: #fff8e1;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-content">
            <div>
                <h1 data-key="dashboardTitle">EcoCrop Dashboard üåø</h1>
                <p data-key="dashboardSubtitle">Your smart assistant for precision farming</p>
            </div>
            <div class="language-selector">
                <select id="lang-selector">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
                    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
                    <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                    <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</option>
                </select>
            </div>
        </div>
    </header>

    <main class="dashboard-container">
        <div class="card crop-selector-card">
            <div class="selector-group">
                <label for="crop-selector" data-key="currentlyGrowing">üå± Crop:</label>
                <select id="crop-selector">
                    <option value="dragonFruit" data-key="dragonFruit">Dragon Fruit</option>
                    <option value="strawberry" data-key="strawberry">Strawberry</option>
                    <option value="lettuce" data-key="lettuce">Lettuce</option>
                </select>
            </div>
            <div class="selector-group">
                <label for="growth-stage-selector" data-key="growthStage">Stage:</label>
                <select id="growth-stage-selector">
                </select>
            </div>
        </div>

        <div class="card">
            <h2 class="section-title" data-key="idealConditionsTitle">Ideal Growing Conditions</h2>
            <div id="ideal-conditions-list">
                <div class="condition-item">
                    <span>üå°Ô∏è Temperature:</span>
                    <strong id="ideal-temp-value">--</strong>
                </div>
                <div class="condition-item">
                    <span>üíß Humidity:</span>
                    <strong id="ideal-humidity-value">--</strong>
                </div>
                <div class="condition-item">
                    <span>üå± Soil Moisture:</span>
                    <strong id="ideal-moisture-value">--</strong>
                </div>
                <div class="condition-item">
                    <span>üß™ Soil pH:</span>
                    <strong id="ideal-ph-value">--</strong>
                </div>
                <div class="condition-item">
                    <span>üí® CO‚ÇÇ Level:</span>
                    <strong id="ideal-co2-value">--</strong>
                </div>
                <div class="condition-item">
                    <span>‚ö° EC Level:</span>
                    <strong id="ideal-ec-value">--</strong>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="section-header">
                <h2 class="section-title">
                    <span data-key="liveReadingsTitle">Live Sensor Readings</span>
                    <span id="live-reading-crop-name" style="color: var(--primary-color); font-weight: 500;"></span>
                </h2>
                <div class="connection-status">
                    <span id="connection-text" class="disconnected" data-key="disconnected">Disconnected</span>
                    <button id="connect-btn" class="connect-btn" data-key="connect">Connect</button>
                </div>
            </div>

            <div id="health-status-card" class="health-card">
                <h2 data-key="overallHealthTitle">Overall Crop Health</h2>
                <p id="health-score">--%</p>
                <p id="health-status-text"></p>
                <p id="health-details"></p>
                <button id="improve-health-btn" class="improve-btn" data-key="improveHealth">Improve
                    Health</button>
            </div>
            <div class="sensor-grid">
                <div class="sensor-card">
                    <h3>üå°Ô∏è Temperature</h3>
                    <p class="sensor-value" id="temp-value-p"><span id="temp-value">--</span> ¬∞C</p>
                    <p class="sensor-status" id="temp-status"></p>
                </div>
                <div class="sensor-card">
                    <h3>üíß Humidity</h3>
                    <p class="sensor-value" id="humidity-value-p"><span id="humidity-value">--</span> %</p>
                    <p class="sensor-status" id="humidity-status"></p>
                </div>
                <div class="sensor-card">
                    <h3>üå± Soil Moisture</h3>
                    <p class="sensor-value" id="moisture-value-p"><span id="moisture-value">--</span> %</p>
                    <p class="sensor-status" id="moisture-status"></p>
                </div>
                <div class="sensor-card">
                    <h3>üß™ Soil pH</h3>
                    <p class="sensor-value" id="ph-value-p"><span id="ph-value">--</span></p>
                    <p class="sensor-status" id="ph-status"></p>
                </div>
                <div class="sensor-card">
                    <h3>‚òÄÔ∏è Light Intensity</h3>
                    <p class="sensor-value" id="light-value-p"><span id="light-value">--</span> lux</p>
                    <p class="sensor-status" id="light-status"></p>
                </div>
                <div class="sensor-card">
                    <h3>üî¨ N-P-K</h3>
                    <p class="sensor-value" id="npk-value-p"><span id="npk-value">--</span></p>
                    <p class="sensor-status" id="npk-status"></p>
                </div>
                <div class="sensor-card">
                    <h3>üí® CO‚ÇÇ Level</h3>
                    <p class="sensor-value" id="co2-value-p"><span id="co2-value">--</span> ppm</p>
                    <p class="sensor-status" id="co2-status"></p>
                </div>
                <div class="sensor-card">
                    <h3>‚ö° EC Level</h3>
                    <p class="sensor-value" id="ec-value-p"><span id="ec-value">--</span> mS/cm</p>
                    <p class="sensor-status" id="ec-status"></p>
                </div>
            </div>
        </div>

        <div class="controls-recommendations-grid">
            <div class="card" id="recommendations-card">
                <h2 class="section-title" data-key="recommendationsTitle">AI Recommendations & Alerts</h2>
                <ul id="recommendations-list">
                    <li>No recommendations at this time. All systems optimal.</li>
                </ul>
            </div>

            <div class="card">
                <h2 class="section-title" data-key="systemControlsTitle">System Controls</h2>
                <div class="control-item">
                    <div class="control-details">
                        <span class="control-name" data-key="irrigationPump">üíß Irrigation Pump</span>
                        <span class="control-status-text" id="irrigation-status-text"></span>
                        <span class="control-history-text" id="irrigation-history-text"></span>
                    </div>
                    <div class="control-actions">
                        <button class="reset-btn" id="irrigation-reset-btn" data-key="reset">Reset</button>
                        <label class="toggle-switch">
                            <input type="checkbox" id="irrigation-control" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="control-item">
                    <div class="control-details">
                        <span class="control-name" data-key="growLights">üí° Grow Lights</span>
                        <span class="control-status-text" id="lights-status-text"></span>
                        <span class="control-history-text" id="lights-history-text"></span>
                    </div>
                    <div class="control-actions">
                        <button class="reset-btn" id="lights-reset-btn" data-key="reset">Reset</button>
                        <label class="toggle-switch">
                            <input type="checkbox" id="lights-control" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="control-item">
                    <div class="control-details">
                        <span class="control-name" data-key="ventilationFan">üí® Ventilation Fan</span>
                        <span class="control-status-text" id="fan-status-text"></span>
                        <span class="control-history-text" id="fan-history-text"></span>
                    </div>
                    <div class="control-actions">
                        <button class="reset-btn" id="fan-reset-btn" data-key="reset">Reset</button>
                        <label class="toggle-switch">
                            <input type="checkbox" id="fan-control">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="control-item">
                    <div class="control-details">
                        <span class="control-name" data-key="co2Injector">üí® CO‚ÇÇ Injector</span>
                        <span class="control-status-text" id="co2-injector-status-text"></span>
                        <span class="control-history-text" id="co2-injector-history-text"></span>
                    </div>
                    <div class="control-actions">
                        <button class="reset-btn" id="co2-injector-reset-btn" data-key="reset">Reset</button>
                        <label class="toggle-switch">
                            <input type="checkbox" id="co2-injector-control">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
document.addEventListener('DOMContentLoaded', () => {

    const translations = {
        en: {
            dashboardTitle: "EcoCrop AI Dashboard üåø",
            dashboardSubtitle: "Your smart assistant for precision farming",
            currentlyGrowing: "üå± Currently Growing:",
            dragonFruit: "Dragon Fruit",
            strawberry: "Strawberry",
            lettuce: "Lettuce",
            idealConditionsTitle: "Ideal Growing Conditions",
            liveReadingsTitle: "Live Sensor Readings",
            overallHealthTitle: "Overall Crop Health",
            systemControlsTitle: "System Controls",
            irrigationPump: "üíß Irrigation Pump",
            growLights: "üí° Grow Lights",
            ventilationFan: "üí® Ventilation Fan",
            recommendationsTitle: "AI Recommendations & Alerts",
            connect: "Connect",
            disconnect: "Disconnect",
            connected: "Connected",
            disconnected: "Disconnected",
            optimal: "Optimal",
            caution: "Caution",
            urgent: "Urgent",
            activeFor: "Active for:",
            intensity: "Intensity:",
            inactive: "Inactive",
            growthStage: "Stage:",
            seedling: "Seedling",
            vegetative: "Vegetative",
            flowering: "Flowering",
            fruiting: "Fruiting",
            co2Injector: "üí® CO‚ÇÇ Injector",
            statusOptimal: "Optimal",
            statusHigh: "High",
            statusLow: "Low",
            improveHealth: "Improve Health",
            totalActive: "Total Active:",
            reset: "Reset",
            deviceNotConnected: "Device is not connected.",
            connectToSeeLive: "Please connect to see live readings.",
        },
        hi: {
            dashboardTitle: "‡§á‡§ï‡•ã‡§ï‡•ç‡§∞‡•â‡§™ ‡§è‡§Ü‡§à ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° üåø",
            dashboardSubtitle: "‡§∏‡§ü‡•Ä‡§ï ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§∏‡§π‡§æ‡§Ø‡§ï",
            currentlyGrowing: "üå± ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§â‡§ó‡§æ‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à:",
            dragonFruit: "‡§°‡•ç‡§∞‡•à‡§ó‡§® ‡§´‡•ç‡§∞‡•Ç‡§ü",
            strawberry: "‡§∏‡•ç‡§ü‡•ç‡§∞‡•â‡§¨‡•á‡§∞‡•Ä",
            lettuce: "‡§∏‡§≤‡§æ‡§¶ ‡§™‡§§‡•ç‡§§‡§æ",
            idealConditionsTitle: "‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§¨‡§¢‡§º‡§§‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø‡§Ø‡§æ‡§Å",
            liveReadingsTitle: "‡§≤‡§æ‡§á‡§µ ‡§∏‡•á‡§Ç‡§∏‡§∞ ‡§∞‡•Ä‡§°‡§ø‡§Ç‡§ó",
            overallHealthTitle: "‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§´‡§∏‡§≤ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø",
            systemControlsTitle: "‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£",
            irrigationPump: "üíß ‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§™‡§Ç‡§™",
            growLights: "üí° ‡§ó‡•ç‡§∞‡•ã ‡§≤‡§æ‡§á‡§ü‡•ç‡§∏",
            ventilationFan: "üí® ‡§µ‡•á‡§Ç‡§ü‡§ø‡§≤‡•á‡§∂‡§® ‡§™‡§Ç‡§ñ‡§æ",
            recommendationsTitle: "‡§è‡§Ü‡§à ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§≤‡§∞‡•ç‡§ü",
            connect: "‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç",
            disconnect: "‡§°‡§ø‡§∏‡•ç‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç",
            connected: "‡§ï‡§®‡•á‡§ï‡•ç‡§ü‡•á‡§°",
            disconnected: "‡§°‡§ø‡§∏‡•ç‡§ï‡§®‡•á‡§ï‡•ç‡§ü‡•á‡§°",
            optimal: "‡§á‡§∑‡•ç‡§ü‡§§‡§Æ",
            caution: "‡§∏‡§æ‡§µ‡§ß‡§æ‡§®‡•Ä",
            urgent: "‡§Ö‡§§‡•ç‡§Ø‡§æ‡§µ‡§∂‡•ç‡§Ø‡§ï",
            activeFor: "‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø:",
            intensity: "‡§§‡•Ä‡§µ‡•ç‡§∞‡§§‡§æ:",
            inactive: "‡§®‡§ø‡§∑‡•ç‡§ï‡•ç‡§∞‡§ø‡§Ø",
            growthStage: "‡§ö‡§∞‡§£:",
            seedling: "‡§Ö‡§Ç‡§ï‡•Å‡§∞",
            vegetative: "‡§µ‡§æ‡§®‡§∏‡•ç‡§™‡§§‡§ø‡§ï",
            flowering: "‡§´‡•Ç‡§≤",
            fruiting: "‡§´‡§≤‡§®",
            co2Injector: "üí® CO‚ÇÇ ‡§á‡§Ç‡§ú‡•á‡§ï‡•ç‡§ü‡§∞",
            statusOptimal: "‡§á‡§∑‡•ç‡§ü‡§§‡§Æ",
            statusHigh: "‡§â‡§ö‡•ç‡§ö",
            statusLow: "‡§ï‡§Æ",
            improveHealth: "‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡•Å‡§ß‡§æ‡§∞‡•á‡§Ç",
            totalActive: "‡§ï‡•Å‡§≤ ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø:",
            reset: "‡§∞‡•Ä‡§∏‡•á‡§ü",
            deviceNotConnected: "‡§°‡§ø‡§µ‡§æ‡§á‡§∏ ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§",
            connectToSeeLive: "‡§≤‡§æ‡§á‡§µ ‡§∞‡•Ä‡§°‡§ø‡§Ç‡§ó ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§",
        }
        ,
        ta: {
            dashboardTitle: "‡Æà‡Æï‡Øã‡Æï‡Æø‡Æ∞‡Ææ‡Æ™‡Øç AI ‡Æü‡Ææ‡Æ∑‡Øç‡Æ™‡Øã‡Æ∞‡Øç‡Æü‡ØÅ üåø",
            dashboardSubtitle: "‡Æ§‡ØÅ‡Æ≤‡Øç‡Æ≤‡Æø‡ÆØ‡ÆÆ‡Ææ‡Æ© ‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ‡Æ§‡Øç‡Æ§‡Æø‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ∏‡Øç‡ÆÆ‡Ææ‡Æ∞‡Øç‡Æü‡Øç ‡Æâ‡Æ§‡Æµ‡Æø‡ÆØ‡Ææ‡Æ≥‡Æ∞‡Øç",
            currentlyGrowing: "üå± ‡Æ§‡Æ±‡Øç‡Æ™‡Øã‡Æ§‡ØÅ ‡Æµ‡Æ≥‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÅ ‡Æµ‡Æ∞‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ:",
            dragonFruit: "‡Æü‡Æø‡Æ∞‡Ææ‡Æï‡Æ©‡Øç ‡Æ™‡Æ¥‡ÆÆ‡Øç",
            strawberry: "‡Æ∏‡Øç‡Æü‡Øç‡Æ∞‡Ææ‡Æ™‡ØÜ‡Æ∞‡Æø",
            lettuce: "‡Æï‡ØÄ‡Æ∞‡Øà",
            idealConditionsTitle: "‡Æö‡Æø‡Æ±‡Æ®‡Øç‡Æ§ ‡Æµ‡Æ≥‡Æ∞‡ØÅ‡ÆÆ‡Øç ‡Æ®‡Æø‡Æ≤‡Øà‡ÆÆ‡Øà‡Æï‡Æ≥‡Øç",
            liveReadingsTitle: "‡Æ®‡Øá‡Æ∞‡Æü‡Æø ‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øç ‡ÆÖ‡Æ≥‡Æµ‡ØÄ‡Æü‡ØÅ‡Æï‡Æ≥‡Øç",
            overallHealthTitle: "‡Æí‡Æü‡Øç‡Æü‡ØÅ‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§ ‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç ‡ÆÜ‡Æ∞‡Øã‡Æï‡Øç‡Æï‡Æø‡ÆØ‡ÆÆ‡Øç",
            systemControlsTitle: "‡Æï‡Æ£‡Æø‡Æ©‡Æø ‡Æï‡Æü‡Øç‡Æü‡ØÅ‡Æ™‡Øç‡Æ™‡Ææ‡Æü‡ØÅ‡Æï‡Æ≥‡Øç",
            irrigationPump: "üíß ‡Æ®‡ØÄ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡Ææ‡Æö‡Æ© ‡Æ™‡ÆÆ‡Øç‡Æ™‡Øç",
            growLights: "üí° ‡Æµ‡Æ≥‡Æ∞‡Øç‡Æö‡Øç‡Æö‡Æø ‡Æµ‡Æø‡Æ≥‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æ≥‡Øç",
            ventilationFan: "üí® ‡Æï‡Ææ‡Æ±‡Øç‡Æ±‡Øã‡Æü‡Øç‡Æü‡ÆÆ‡Øç ‡Æµ‡Æø‡Æö‡Æø‡Æ±‡Æø",
            recommendationsTitle: "AI ‡Æ™‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æ∞‡Øà‡Æï‡Æ≥‡Øç & ‡Æé‡Æö‡Øç‡Æö‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Øà‡Æï‡Æ≥‡Øç",
            connect: "‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
            disconnect: "‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
            connected: "‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ",
            disconnected: "‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡Æø‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ",
            optimal: "‡Æâ‡Æï‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ",
            caution: "‡Æé‡Æö‡Øç‡Æö‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Øà",
            urgent: "‡ÆÖ‡Æµ‡Æö‡Æ∞‡ÆÆ‡Øç",
            activeFor: "‡Æö‡ØÜ‡ÆØ‡Æ≤‡Æø‡Æ≤‡Øç:",
            intensity: "‡Æ§‡ØÄ‡Æµ‡Æø‡Æ∞‡ÆÆ‡Øç:",
            inactive: "‡Æö‡ØÜ‡ÆØ‡Æ≤‡Æ±‡Øç‡Æ±‡Æ§‡ØÅ",
            growthStage: "‡Æ®‡Æø‡Æ≤‡Øà:",
            seedling: "‡Æ®‡Ææ‡Æ±‡Øç‡Æ±‡ØÅ",
            vegetative: "‡Æ§‡Ææ‡Æµ‡Æ∞ ‡Æµ‡Æ≥‡Æ∞‡Øç‡Æö‡Øç‡Æö‡Æø",
            flowering: "‡Æ™‡ØÇ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç",
            fruiting: "‡Æ™‡Æ¥‡ÆÆ‡Øç‡Æ§‡Æ∞‡ØÅ‡ÆÆ‡Øç",
            co2Injector: "üí® CO‚ÇÇ ‡Æá‡Æ©‡Øç‡Æú‡ØÜ‡Æï‡Øç‡Æü‡Æ∞‡Øç",
            statusOptimal: "‡Æâ‡Æï‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ",
            statusHigh: "‡ÆÖ‡Æ§‡Æø‡Æï‡ÆÆ‡Øç",
            statusLow: "‡Æï‡ØÅ‡Æ±‡Øà‡Æµ‡ØÅ",
            improveHealth: "‡ÆÜ‡Æ∞‡Øã‡Æï‡Øç‡Æï‡Æø‡ÆØ‡Æ§‡Øç‡Æ§‡Øà ‡ÆÆ‡Øá‡ÆÆ‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ",
            totalActive: "‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§ ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Æø‡Æ≤‡Øç:",
            reset: "‡ÆÆ‡ØÄ‡Æü‡Øç‡Æü‡ÆÆ‡Øà",
            deviceNotConnected: "‡Æö‡Ææ‡Æ§‡Æ©‡ÆÆ‡Øç ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Æµ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà.",
            connectToSeeLive: "‡Æ®‡Øá‡Æ∞‡Æü‡Æø ‡ÆÖ‡Æ≥‡Æµ‡ØÄ‡Æü‡ØÅ‡Æï‡Æ≥‡Øà‡Æï‡Øç ‡Æï‡Ææ‡Æ£, ‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.",
        },
        bn: {
            dashboardTitle: "‡¶á‡¶ï‡ßã‡¶ï‡ßç‡¶∞‡¶™ ‡¶è‡¶Ü‡¶á ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° üåø",
            dashboardSubtitle: "‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡ßÅ‡¶≤ ‡¶ö‡¶æ‡¶∑‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ",
            currentlyGrowing: "üå± ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶®‡ßá ‡¶ö‡¶æ‡¶∑ ‡¶π‡¶ö‡ßç‡¶õ‡ßá:",
            dragonFruit: "‡¶°‡ßç‡¶∞‡¶æ‡¶ó‡¶® ‡¶´‡¶≤",
            strawberry: "‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶¨‡ßá‡¶∞‡¶ø",
            lettuce: "‡¶≤‡ßá‡¶ü‡ßÅ‡¶∏",
            idealConditionsTitle: "‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂ ‡¶ï‡ßç‡¶∞‡¶Æ‡¶¨‡¶∞‡ßç‡¶ß‡¶Æ‡¶æ‡¶® ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ",
            liveReadingsTitle: "‡¶≤‡¶æ‡¶á‡¶≠ ‡¶∏‡ßá‡¶®‡ßç‡¶∏‡¶∞ ‡¶∞‡¶ø‡¶°‡¶ø‡¶Ç",
            overallHealthTitle: "‡¶∏‡¶æ‡¶Æ‡¶ó‡ßç‡¶∞‡¶ø‡¶ï ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø",
            systemControlsTitle: "‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£",
            irrigationPump: "üíß ‡¶∏‡ßá‡¶ö ‡¶™‡¶æ‡¶Æ‡ßç‡¶™",
            growLights: "üí° ‡¶ó‡ßç‡¶∞‡ßã ‡¶≤‡¶æ‡¶á‡¶ü",
            ventilationFan: "üí® ‡¶¨‡¶æ‡¶Ø‡¶º‡ßÅ‡¶ö‡¶≤‡¶æ‡¶ö‡¶≤ ‡¶´‡ßç‡¶Ø‡¶æ‡¶®",
            recommendationsTitle: "‡¶è‡¶Ü‡¶á ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞‡¶ø‡¶∂ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ",
            connect: "‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®",
            disconnect: "‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶¨‡¶ø‡¶ö‡ßç‡¶õ‡¶ø‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®",
            connected: "‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§",
            disconnected: "‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶¨‡¶ø‡¶ö‡ßç‡¶õ‡¶ø‡¶®‡ßç‡¶®",
            optimal: "‡¶Ö‡¶®‡ßÅ‡¶ï‡ßÇ‡¶≤",
            caution: "‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ",
            urgent: "‡¶ú‡¶∞‡ßÅ‡¶∞‡ßÄ",
            activeFor: "‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º:",
            intensity: "‡¶§‡ßÄ‡¶¨‡ßç‡¶∞‡¶§‡¶æ:",
            inactive: "‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",
            growthStage: "‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º:",
            seedling: "‡¶ö‡¶æ‡¶∞‡¶æ",
            vegetative: "‡¶Ö‡¶ô‡ßç‡¶ó‡¶ú",
            flowering: "‡¶´‡ßÅ‡¶≤ ‡¶´‡ßã‡¶ü‡¶æ",
            fruiting: "‡¶´‡¶≤ ‡¶ß‡¶∞‡¶æ",
            co2Injector: "üí® CO‚ÇÇ ‡¶á‡¶®‡¶ú‡ßá‡¶ï‡ßç‡¶ü‡¶∞",
            statusOptimal: "‡¶Ö‡¶®‡ßÅ‡¶ï‡ßÇ‡¶≤",
            statusHigh: "‡¶â‡¶ö‡ßç‡¶ö",
            statusLow: "‡¶®‡¶ø‡¶Æ‡ßç‡¶®",
            improveHealth: "‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®",
            totalActive: "‡¶Æ‡ßã‡¶ü ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º:",
            reset: "‡¶∞‡¶ø‡¶∏‡ßá‡¶ü",
            deviceNotConnected: "‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶®‡ßá‡¶á‡•§",
            connectToSeeLive: "‡¶≤‡¶æ‡¶á‡¶≠ ‡¶∞‡¶ø‡¶°‡¶ø‡¶Ç ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
        },
        mr: {
            dashboardTitle: "‡§á‡§ï‡•ã‡§ï‡•ç‡§∞‡•â‡§™ ‡§è‡§Ü‡§Ø ‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§° üåø",
            dashboardSubtitle: "‡§Ö‡§ö‡•Ç‡§ï ‡§∂‡•á‡§§‡•Ä‡§∏‡§æ‡§†‡•Ä ‡§§‡•Å‡§Æ‡§ö‡§æ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§∏‡§π‡§æ‡§Ø‡•ç‡§Ø‡§ï",
            currentlyGrowing: "üå± ‡§∏‡§ß‡•ç‡§Ø‡§æ ‡§µ‡§æ‡§¢‡§§ ‡§Ü‡§π‡•á:",
            dragonFruit: "‡§°‡•ç‡§∞‡•Ö‡§ó‡§® ‡§´‡•ç‡§∞‡•Ç‡§ü",
            strawberry: "‡§∏‡•ç‡§ü‡•ç‡§∞‡•â‡§¨‡•á‡§∞‡•Ä",
            lettuce: "‡§≤‡•á‡§ü‡•ç‡§Ø‡•Ç‡§∏",
            idealConditionsTitle: "‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§µ‡§æ‡§¢‡•Ä‡§ö‡•Ä ‡§™‡§∞‡§ø‡§∏‡•ç‡§•‡§ø‡§§‡•Ä",
            liveReadingsTitle: "‡§≤‡§æ‡§á‡§µ‡•ç‡§π ‡§∏‡•á‡§®‡•ç‡§∏‡§∞ ‡§∞‡•Ä‡§°‡§ø‡§Ç‡§ó",
            overallHealthTitle: "‡§è‡§ï‡•Ç‡§£ ‡§™‡•Ä‡§ï ‡§Ü‡§∞‡•ã‡§ó‡•ç‡§Ø",
            systemControlsTitle: "‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£‡•á",
            irrigationPump: "üíß ‡§∏‡§ø‡§Ç‡§ö‡§® ‡§™‡§Ç‡§™",
            growLights: "üí° ‡§ó‡•ç‡§∞‡•ã ‡§≤‡§æ‡§á‡§ü‡•ç‡§∏",
            ventilationFan: "üí® ‡§µ‡•ç‡§π‡•á‡§Ç‡§ü‡§ø‡§≤‡•á‡§∂‡§® ‡§´‡•Ö‡§®",
            recommendationsTitle: "‡§è‡§Ü‡§Ø ‡§∂‡§ø‡§´‡§æ‡§∞‡§∏‡•Ä ‡§Ü‡§£‡§ø ‡§∏‡•Ç‡§ö‡§®‡§æ",
            connect: "‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡§æ",
            disconnect: "‡§°‡§ø‡§∏‡•ç‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡§æ",
            connected: "‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡•á‡§≤‡•á",
            disconnected: "‡§°‡§ø‡§∏‡•ç‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡•á‡§≤‡•á",
            optimal: "‡§á‡§∑‡•ç‡§ü‡§§‡§Æ",
            caution: "‡§∏‡§æ‡§µ‡§ß‡§æ‡§®",
            urgent: "‡§§‡§æ‡§§‡§°‡•Ä‡§ö‡•á",
            activeFor: "‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø:",
            intensity: "‡§§‡•Ä‡§µ‡•ç‡§∞‡§§‡§æ:",
            inactive: "‡§®‡§ø‡§∑‡•ç‡§ï‡•ç‡§∞‡§ø‡§Ø",
            growthStage: "‡§ü‡§™‡•ç‡§™‡§æ:",
            seedling: "‡§∞‡•ã‡§™",
            vegetative: "‡§µ‡§æ‡§¢‡•Ä‡§ö‡§æ",
            flowering: "‡§´‡•Å‡§≤‡•ã‡§∞‡§æ",
            fruiting: "‡§´‡§≥‡§ß‡§æ‡§∞‡§£‡§æ",
            co2Injector: "üí® CO‚ÇÇ ‡§á‡§Ç‡§ú‡•á‡§ï‡•ç‡§ü‡§∞",
            statusOptimal: "‡§á‡§∑‡•ç‡§ü‡§§‡§Æ",
            statusHigh: "‡§â‡§ö‡•ç‡§ö",
            statusLow: "‡§ï‡§Æ‡•Ä",
            improveHealth: "‡§Ü‡§∞‡•ã‡§ó‡•ç‡§Ø ‡§∏‡•Å‡§ß‡§æ‡§∞‡§æ",
            totalActive: "‡§è‡§ï‡•Ç‡§£ ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø:",
            reset: "‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡§æ",
            deviceNotConnected: "‡§°‡§ø‡§µ‡•ç‡§π‡§æ‡§á‡§∏ ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡•á‡§≤‡•á‡§≤‡•á ‡§®‡§æ‡§π‡•Ä.",
            connectToSeeLive: "‡§≤‡§æ‡§á‡§µ‡•ç‡§π ‡§∞‡•Ä‡§°‡§ø‡§Ç‡§ó ‡§™‡§æ‡§π‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡§æ.",
        },
        gu: {
            dashboardTitle: "‡™á‡™ï‡´ã‡™ï‡´ç‡™∞‡´ã‡™™ ‡™è‡™Ü‡™á ‡™°‡´á‡™∂‡™¨‡´ã‡™∞‡´ç‡™° üåø",
            dashboardSubtitle: "‡™ö‡´ã‡™ï‡´ç‡™ï‡™∏ ‡™ñ‡´á‡™§‡´Ä ‡™Æ‡™æ‡™ü‡´á ‡™§‡™Æ‡™æ‡™∞‡™æ ‡™∏‡´ç‡™Æ‡™æ‡™∞‡´ç‡™ü ‡™∏‡™π‡™æ‡™Ø‡™ï",
            currentlyGrowing: "üå± ‡™π‡™æ‡™≤‡™Æ‡™æ‡™Ç ‡™â‡™ó‡™æ‡™°‡™µ‡™æ‡™Æ‡™æ‡™Ç ‡™Ü‡™µ‡´á ‡™õ‡´á:",
            dragonFruit: "‡™°‡´ç‡™∞‡´á‡™ó‡™® ‡™´‡´ç‡™∞‡´Ç‡™ü",
            strawberry: "‡™∏‡´ç‡™ü‡´ç‡™∞‡´ã‡™¨‡´á‡™∞‡´Ä",
            lettuce: "‡™≤‡´á‡™ü‡™∏",
            idealConditionsTitle: "‡™Ü‡™¶‡™∞‡´ç‡™∂ ‡™µ‡´É‡™¶‡´ç‡™ß‡™ø‡™®‡´Ä ‡™™‡™∞‡™ø‡™∏‡´ç‡™•‡™ø‡™§‡™ø‡™ì",
            liveReadingsTitle: "‡™≤‡™æ‡™á‡™µ ‡™∏‡´á‡™®‡´ç‡™∏‡™∞ ‡™∞‡´Ä‡™°‡™ø‡™Ç‡™ó‡´ç‡™∏",
            overallHealthTitle: "‡™è‡™ï‡™Ç‡™¶‡™∞ ‡™™‡™æ‡™ï‡™®‡´Å‡™Ç ‡™∏‡´ç‡™µ‡™æ‡™∏‡´ç‡™•‡´ç‡™Ø",
            systemControlsTitle: "‡™∏‡™ø‡™∏‡´ç‡™ü‡™Æ ‡™®‡™ø‡™Ø‡™Ç‡™§‡´ç‡™∞‡™£‡´ã",
            irrigationPump: "üíß ‡™∏‡™ø‡™Ç‡™ö‡™æ‡™à ‡™™‡™Ç‡™™",
            growLights: "üí° ‡™ó‡´ç‡™∞‡´ã ‡™≤‡™æ‡™á‡™ü‡´ç‡™∏",
            ventilationFan: "üí® ‡™µ‡´á‡™®‡´ç‡™ü‡™ø‡™≤‡´á‡™∂‡™® ‡™´‡´á‡™®",
            recommendationsTitle: "‡™è‡™Ü‡™á ‡™≠‡™≤‡™æ‡™Æ‡™£‡´ã ‡™Ö‡™®‡´á ‡™ö‡´á‡™§‡™µ‡™£‡´Ä‡™ì",
            connect: "‡™ï‡™®‡´á‡™ï‡´ç‡™ü ‡™ï‡™∞‡´ã",
            disconnect: "‡™°‡™ø‡™∏‡´ç‡™ï‡™®‡´á‡™ï‡´ç‡™ü ‡™ï‡™∞‡´ã",
            connected: "‡™ï‡™®‡´á‡™ï‡´ç‡™ü‡´á‡™°",
            disconnected: "‡™°‡™ø‡™∏‡´ç‡™ï‡™®‡´á‡™ï‡´ç‡™ü‡´á‡™°",
            optimal: "‡™∂‡´ç‡™∞‡´á‡™∑‡´ç‡™†",
            caution: "‡™∏‡™æ‡™µ‡™ß‡™æ‡™®‡´Ä",
            urgent: "‡™§‡™æ‡™§‡´ç‡™ï‡™æ‡™≤‡™ø‡™ï",
            activeFor: "‡™∏‡™ï‡´ç‡™∞‡™ø‡™Ø:",
            intensity: "‡™§‡´Ä‡™µ‡´ç‡™∞‡™§‡™æ:",
            inactive: "‡™®‡™ø‡™∑‡´ç‡™ï‡´ç‡™∞‡™ø‡™Ø",
            growthStage: "‡™§‡™¨‡™ï‡´ç‡™ï‡´ã:",
            seedling: "‡™∞‡´ã‡™™",
            vegetative: "‡™µ‡™æ‡™®‡´ç‡™∏‡´ç‡™™‡™§‡™ø‡™ï",
            flowering: "‡™´‡´Ç‡™≤",
            fruiting: "‡™´‡™≥",
            co2Injector: "üí® CO‚ÇÇ ‡™á‡™®‡´ç‡™ú‡´á‡™ï‡´ç‡™ü‡™∞",
            statusOptimal: "‡™∂‡´ç‡™∞‡´á‡™∑‡´ç‡™†",
            statusHigh: "‡™â‡™ö‡´ç‡™ö",
            statusLow: "‡™®‡´Ä‡™ö‡´Å‡™Ç",
            improveHealth: "‡™Ü‡™∞‡´ã‡™ó‡´ç‡™Ø ‡™∏‡´Å‡™ß‡™æ‡™∞‡´ã",
            totalActive: "‡™ï‡´Å‡™≤ ‡™∏‡™ï‡´ç‡™∞‡™ø‡™Ø:",
            reset: "‡™∞‡´Ä‡™∏‡´á‡™ü ‡™ï‡™∞‡´ã",
            deviceNotConnected: "‡™â‡™™‡™ï‡™∞‡™£ ‡™ú‡´ã‡™°‡™æ‡™Ø‡´á‡™≤ ‡™®‡™•‡´Ä.",
            connectToSeeLive: "‡™≤‡™æ‡™á‡™µ ‡™∞‡´Ä‡™°‡™ø‡™Ç‡™ó‡´ç‡™∏ ‡™ú‡´ã‡™µ‡™æ ‡™Æ‡™æ‡™ü‡´á ‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä‡™®‡´á ‡™ï‡™®‡´á‡™ï‡´ç‡™ü ‡™ï‡™∞‡´ã.",
        }
    };

    const cropProfiles = {
        dragonFruit: {
            name: "Dragon Fruit",
            growthStages: {
                vegetative: {
                    nameKey: "vegetative",
                    temp: { optimal: [25, 35], caution: [20, 40] },
                    humidity: { optimal: [70, 80], caution: [60, 90] },
                    moisture: { optimal: [60, 75], caution: [50, 85] },
                    ph: { optimal: [6.0, 7.0], caution: [5.5, 7.5] },
                    co2: { optimal: [600, 800], caution: [400, 1000] },
                    ec: { optimal: [1.5, 2.0], caution: [1.2, 2.5] },
                },
                flowering: {
                    nameKey: "flowering",
                    temp: { optimal: [22, 30], caution: [18, 35] },
                    humidity: { optimal: [60, 70], caution: [50, 80] },
                    moisture: { optimal: [65, 80], caution: [55, 85] },
                    ph: { optimal: [6.0, 7.0], caution: [5.5, 7.5] },
                    co2: { optimal: [800, 1200], caution: [600, 1500] },
                    ec: { optimal: [1.8, 2.5], caution: [1.5, 3.0] },
                }
            }
        },
        strawberry: {
            name: "Strawberry",
            growthStages: {
                vegetative: {
                    nameKey: "vegetative",
                    temp: { optimal: [18, 24], caution: [15, 28] },
                    humidity: { optimal: [60, 75], caution: [50, 85] },
                    moisture: { optimal: [70, 85], caution: [60, 90] },
                    ph: { optimal: [5.5, 6.5], caution: [5.0, 7.0] },
                    co2: { optimal: [500, 700], caution: [400, 900] },
                    ec: { optimal: [1.4, 1.8], caution: [1.0, 2.2] },
                },
                flowering: {
                    nameKey: "flowering",
                    temp: { optimal: [15, 22], caution: [12, 26] },
                    humidity: { optimal: [50, 65], caution: [40, 75] },
                    moisture: { optimal: [65, 80], caution: [55, 85] },
                    ph: { optimal: [5.5, 6.5], caution: [5.0, 7.0] },
                    co2: { optimal: [700, 1000], caution: [500, 1200] },
                    ec: { optimal: [1.8, 2.2], caution: [1.5, 2.5] },
                }
            }
        },
        lettuce: {
            name: "Lettuce",
            growthStages: {
                seedling: {
                    nameKey: "seedling",
                    temp: { optimal: [18, 22], caution: [15, 25] },
                    humidity: { optimal: [60, 70], caution: [50, 80] },
                    moisture: { optimal: [80, 90], caution: [70, 95] },
                    ph: { optimal: [6.0, 6.5], caution: [5.5, 7.0] },
                    co2: { optimal: [400, 600], caution: [350, 800] },
                    ec: { optimal: [0.8, 1.2], caution: [0.5, 1.5] },
                },
                vegetative: {
                    nameKey: "vegetative",
                    temp: { optimal: [15, 20], caution: [10, 24] },
                    humidity: { optimal: [50, 65], caution: [40, 75] },
                    moisture: { optimal: [75, 85], caution: [65, 90] },
                    ph: { optimal: [6.0, 7.0], caution: [5.5, 7.5] },
                    co2: { optimal: [700, 1000], caution: [500, 1200] },
                    ec: { optimal: [1.2, 2.0], caution: [1.0, 2.5] },
                }
            }
        }
    };

    let isConnected = false;
    let updateInterval = null;
    let sensorData = {};
    let currentLang = 'en';
    let controlUpdateInterval = null;

    let controlState = {
        irrigation: { active: true, startTime: Date.now(), totalActiveTime: 0 },
        lights: { active: true, startTime: Date.now(), intensity: 85, totalActiveTime: 0 },
        fan: { active: false, startTime: null, totalActiveTime: 0 },
        co2Injector: { active: false, startTime: null, totalActiveTime: 0 }
    };

    const elements = {
        temp: document.getElementById('temp-value'),
        humidity: document.getElementById('humidity-value'),
        moisture: document.getElementById('moisture-value'),
        ph: document.getElementById('ph-value'),
        light: document.getElementById('light-value'),
        npk: document.getElementById('npk-value'),
        co2: document.getElementById('co2-value'),
        ec: document.getElementById('ec-value'),
        tempValueP: document.getElementById('temp-value-p'),
        humidityValueP: document.getElementById('humidity-value-p'),
        moistureValueP: document.getElementById('moisture-value-p'),
        phValueP: document.getElementById('ph-value-p'),
        lightValueP: document.getElementById('light-value-p'),
        npkValueP: document.getElementById('npk-value-p'),
        co2ValueP: document.getElementById('co2-value-p'),
        ecValueP: document.getElementById('ec-value-p'),
        healthCard: document.getElementById('health-status-card'),
        healthScore: document.getElementById('health-score'),
        healthStatusText: document.getElementById('health-status-text'),
        healthDetails: document.getElementById('health-details'),
        cropSelector: document.getElementById('crop-selector'),
        sensorGrid: document.querySelector('.sensor-grid'),
        growthStageSelector: document.getElementById('growth-stage-selector'),
        langSelector: document.getElementById('lang-selector'),
        recommendationsList: document.getElementById('recommendations-list'),
        connectBtn: document.getElementById('connect-btn'),
        connectionText: document.getElementById('connection-text'),
        improveHealthBtn: document.getElementById('improve-health-btn'),
        liveReadingCropName: document.getElementById('live-reading-crop-name'),
        tempStatus: document.getElementById('temp-status'),
        humidityStatus: document.getElementById('humidity-status'),
        moistureStatus: document.getElementById('moisture-status'),
        phStatus: document.getElementById('ph-status'),
        lightStatus: document.getElementById('light-status'),
        npkStatus: document.getElementById('npk-status'),
        co2Status: document.getElementById('co2-status'),
        ecStatus: document.getElementById('ec-status'),
        idealTemp: document.getElementById('ideal-temp-value'),
        idealHumidity: document.getElementById('ideal-humidity-value'),
        idealMoisture: document.getElementById('ideal-moisture-value'),
        idealPh: document.getElementById('ideal-ph-value'),
        recommendationsCard: document.getElementById('recommendations-card'),
        idealCo2: document.getElementById('ideal-co2-value'),
        idealEc: document.getElementById('ideal-ec-value'),
        irrigationStatus: document.getElementById('irrigation-status-text'),
        lightsStatus: document.getElementById('lights-status-text'),
        fanStatus: document.getElementById('fan-status-text'),
        co2InjectorStatus: document.getElementById('co2-injector-status-text'),
        irrigationHistory: document.getElementById('irrigation-history-text'),
        lightsHistory: document.getElementById('lights-history-text'),
        fanHistory: document.getElementById('fan-history-text'),
        co2InjectorHistory: document.getElementById('co2-injector-history-text'),
        irrigationToggle: document.getElementById('irrigation-control'),
        lightsToggle: document.getElementById('lights-control'),
        fanToggle: document.getElementById('fan-control'),
        co2InjectorToggle: document.getElementById('co2-injector-control'),
        irrigationResetBtn: document.getElementById('irrigation-reset-btn'),
        lightsResetBtn: document.getElementById('lights-reset-btn'),
        fanResetBtn: document.getElementById('fan-reset-btn'),
        co2InjectorResetBtn: document.getElementById('co2-injector-reset-btn'),
        uiStrings: document.querySelectorAll('[data-key]'),
    };

    function setLanguage(lang) {
        currentLang = lang;
        const t = translations[lang];
        elements.uiStrings.forEach(el => {
            const key = el.getAttribute('data-key');
            if (t[key]) {
                el.textContent = t[key];
            }
        });
        // Special handling for button text which changes state
        elements.connectBtn.textContent = isConnected ? t.disconnect : t.connect;
        elements.connectionText.textContent = isConnected ? t.connected : t.disconnected;

        // Re-run dashboard update to translate health status
        if (isConnected) {
            updateDashboardUI();
        }

        // Re-run controls update to translate status
        updateControlsUI();
    };

    /**
     * Simulates new sensor readings based on the selected crop's profile.
     * In a real application, this function would be replaced by a call to your hardware API.
     * @param {object} profile - The ideal profile for the selected crop.
     */
    function simulateNewSensorData(profile) {
        const randomInRange = (min, max) => (Math.random() * (max - min) + min);

        // Generate data that hovers around the crop's ideal values, with some variance
        // to trigger cautions and alerts dynamically.
        sensorData = {
            temperature: randomInRange(profile.temp.caution[0] - 2, profile.temp.caution[1] + 2).toFixed(1),
            humidity: randomInRange(profile.humidity.caution[0] - 5, profile.humidity.caution[1] + 5).toFixed(1),
            soil_moisture: randomInRange(profile.moisture.caution[0] - 10, profile.moisture.caution[1] + 10).toFixed(1),
            ph: randomInRange(profile.ph.caution[0] - 0.3, profile.ph.caution[1] + 0.3).toFixed(1),
            co2: randomInRange(profile.co2.caution[0] - 50, profile.co2.caution[1] + 100).toFixed(0),
            ec: randomInRange(profile.ec.caution[0] - 0.2, profile.ec.caution[1] + 0.2).toFixed(2),
            light_intensity: Math.floor(randomInRange(35000, 55000)),
            npk: "15-10-20" // NPK is harder to simulate, keeping it static for now
        };
    }

    function populateGrowthStages(cropKey) {
        const stages = cropProfiles[cropKey].growthStages;
        elements.growthStageSelector.innerHTML = ''; // Clear existing options
        for (const stageKey in stages) {
            const option = document.createElement('option');
            option.value = stageKey;
            option.textContent = translations[currentLang][stages[stageKey].nameKey] || stages[stageKey].nameKey;
            option.setAttribute('data-key', stages[stageKey].nameKey);
            elements.growthStageSelector.appendChild(option);
        }
    }

    function updateIdealConditionsUI() {
        const selectedCropKey = elements.cropSelector.value;
        const selectedStageKey = elements.growthStageSelector.value;
        if (!selectedStageKey) return;

        const stageProfile = cropProfiles[selectedCropKey].growthStages[selectedStageKey];

        elements.idealTemp.textContent = `${stageProfile.temp.optimal[0]} - ${stageProfile.temp.optimal[1]} ¬∞C`;
        elements.idealHumidity.textContent = `${stageProfile.humidity.optimal[0]} - ${stageProfile.humidity.optimal[1]} %`;
        elements.idealMoisture.textContent = `${stageProfile.moisture.optimal[0]} - ${stageProfile.moisture.optimal[1]} %`;
        elements.idealPh.textContent = `${stageProfile.ph.optimal[0]} - ${stageProfile.ph.optimal[1]}`;
        elements.idealCo2.textContent = `${stageProfile.co2.optimal[0]} - ${stageProfile.co2.optimal[1]} ppm`;
        elements.idealEc.textContent = `${stageProfile.ec.optimal[0]} - ${stageProfile.ec.optimal[1]} mS/cm`;
    }

    function formatDuration(startTime) {
        if (!startTime) return "0s";
        const elapsedSeconds = Math.floor((Date.now() - startTime) / 1000);
        const minutes = Math.floor(elapsedSeconds / 60);
        const seconds = elapsedSeconds % 60;
        return `${minutes}m ${seconds}s`;
    }

    function formatTotalDuration(ms) {
        if (!ms || ms < 0) ms = 0;
        const totalSeconds = Math.floor(ms / 1000);
        const h = Math.floor(totalSeconds / 3600);
        const m = Math.floor((totalSeconds % 3600) / 60);
        const s = totalSeconds % 60;

        if (h > 0) return `${h}h ${m}m ${s}s`;
        if (m > 0) return `${m}m ${s}s`;
        return `${s}s`;
    }


    function updateControlsUI() {
        const t = translations[currentLang];

        let irrigationSession = controlState.irrigation.active ? (Date.now() - controlState.irrigation.startTime) : 0;
        elements.irrigationStatus.textContent = controlState.irrigation.active ? `${t.activeFor} ${formatDuration(controlState.irrigation.startTime)}` : t.inactive;
        elements.irrigationHistory.textContent = `${t.totalActive} ${formatTotalDuration(controlState.irrigation.totalActiveTime + irrigationSession)}`;
        elements.irrigationResetBtn.style.display = controlState.irrigation.active ? 'none' : 'inline-block';

        let lightsSession = controlState.lights.active ? (Date.now() - controlState.lights.startTime) : 0;
        elements.lightsStatus.textContent = controlState.lights.active ? `${t.activeFor} ${formatDuration(controlState.lights.startTime)} | ${t.intensity} ${controlState.lights.intensity}%` : t.inactive;
        elements.lightsHistory.textContent = `${t.totalActive} ${formatTotalDuration(controlState.lights.totalActiveTime + lightsSession)}`;
        elements.lightsResetBtn.style.display = controlState.lights.active ? 'none' : 'inline-block';

        let fanSession = controlState.fan.active ? (Date.now() - controlState.fan.startTime) : 0;
        elements.fanStatus.textContent = controlState.fan.active ? `${t.activeFor} ${formatDuration(controlState.fan.startTime)}` : t.inactive;
        elements.fanHistory.textContent = `${t.totalActive} ${formatTotalDuration(controlState.fan.totalActiveTime + fanSession)}`;
        elements.fanResetBtn.style.display = controlState.fan.active ? 'none' : 'inline-block';

        let co2Session = controlState.co2Injector.active ? (Date.now() - controlState.co2Injector.startTime) : 0;
        elements.co2InjectorStatus.textContent = controlState.co2Injector.active ? `${t.activeFor} ${formatDuration(controlState.co2Injector.startTime)}` : t.inactive;
        elements.co2InjectorHistory.textContent = `${t.totalActive} ${formatTotalDuration(controlState.co2Injector.totalActiveTime + co2Session)}`;
        elements.co2InjectorResetBtn.style.display = controlState.co2Injector.active ? 'none' : 'inline-block';
    }

    function updateDashboardUI() {
        if (!isConnected) return;

        const selectedCropKey = elements.cropSelector.value;
        const selectedStageKey = elements.growthStageSelector.value;
        if (!selectedStageKey) return;

        const stageProfile = cropProfiles[selectedCropKey].growthStages[selectedStageKey];
        
        const selectedCropOption = elements.cropSelector.querySelector(`option[value="${selectedCropKey}"]`);
        elements.liveReadingCropName.textContent = ` - ${selectedCropOption.textContent}`;

        simulateNewSensorData(stageProfile);

        elements.temp.textContent = sensorData.temperature;
        elements.humidity.textContent = sensorData.humidity;
        elements.moisture.textContent = sensorData.soil_moisture;
        elements.ph.textContent = sensorData.ph;
        elements.light.textContent = sensorData.light_intensity;
        elements.npk.textContent = sensorData.npk;
        elements.co2.textContent = sensorData.co2;
        elements.ec.textContent = sensorData.ec;

        const { status, recommendations, healthDetailMessage, detailedStatus, score } = analyzeCropHealth(sensorData, stageProfile);

        elements.healthScore.textContent = `${score}%`;
        elements.healthStatusText.textContent = translations[currentLang][status.key];
        elements.healthCard.className = 'card health-card ' + status.class;
        elements.healthDetails.textContent = healthDetailMessage;

        if (score < 100) {
            elements.improveHealthBtn.style.display = 'inline-block';
        } else {
            elements.improveHealthBtn.style.display = 'none';
        }

        const t = translations[currentLang];
        elements.tempValueP.className = `sensor-value ${detailedStatus.temp.class}`;
        elements.tempStatus.textContent = t[detailedStatus.temp.textKey] || '';
        elements.humidityValueP.className = `sensor-value ${detailedStatus.humidity.class}`;
        elements.humidityStatus.textContent = t[detailedStatus.humidity.textKey] || '';
        elements.moistureValueP.className = `sensor-value ${detailedStatus.moisture.class}`;
        elements.moistureStatus.textContent = t[detailedStatus.moisture.textKey] || '';
        elements.co2ValueP.className = `sensor-value ${detailedStatus.co2.class}`;
        elements.co2Status.textContent = t[detailedStatus.co2.textKey] || '';

        elements.recommendationsList.innerHTML = '';
        if (recommendations.length > 0) {
            recommendations.forEach(rec => {
                const li = document.createElement('li');
                li.textContent = rec.message;
                li.classList.add(rec.level);
                elements.recommendationsList.appendChild(li);
            });
        } else {
            const li = document.createElement('li');
            li.textContent = 'No recommendations at this time. All systems optimal.';
            elements.recommendationsList.appendChild(li);
        }
    }

    function analyzeCropHealth(data, profile) {
        const recommendations = [];
        let urgentCount = 0;
        let cautionCount = 0;
        let healthDetailMessage = '';
        const detailedStatus = {};

        let tempStatus = { class: 'optimal', textKey: 'statusOptimal' };
        if (data.temperature < profile.temp.caution[0] || data.temperature > profile.temp.caution[1]) {
            urgentCount++;
            tempStatus = { class: 'urgent', textKey: data.temperature < profile.temp.caution[0] ? 'statusLow' : 'statusHigh' };
            recommendations.push({ level: 'urgent', message: `URGENT: Temperature is ${data.temperature}¬∞C, which is outside the critical range.` });
            if (!healthDetailMessage) {
                healthDetailMessage = `Temperature is ${data.temperature}¬∞C (Ideal: ${profile.temp.optimal[0]}-${profile.temp.optimal[1]}¬∞C)`;
            }
        } else if (data.temperature < profile.temp.optimal[0] || data.temperature > profile.temp.optimal[1]) {
            cautionCount++;
            tempStatus = { class: 'caution', textKey: data.temperature < profile.temp.optimal[0] ? 'statusLow' : 'statusHigh' };
            recommendations.push({ level: 'caution', message: `CAUTION: Temperature is ${data.temperature}¬∞C. Aim for ${profile.temp.optimal[0]}-${profile.temp.optimal[1]}¬∞C.` });
            if (!healthDetailMessage) {
                healthDetailMessage = `Temperature is ${data.temperature}¬∞C (Ideal: ${profile.temp.optimal[0]}-${profile.temp.optimal[1]}¬∞C)`;
            }
        }
        detailedStatus.temp = tempStatus;

        let humidityStatus = { class: 'optimal', textKey: 'statusOptimal' };
        if (data.humidity < profile.humidity.caution[0] || data.humidity > profile.humidity.caution[1]) {
            urgentCount++;
            humidityStatus = { class: 'urgent', textKey: data.humidity < profile.humidity.caution[0] ? 'statusLow' : 'statusHigh' };
        } else if (data.humidity < profile.humidity.optimal[0] || data.humidity > profile.humidity.optimal[1]) {
            cautionCount++;
            humidityStatus = { class: 'caution', textKey: data.humidity < profile.humidity.optimal[0] ? 'statusLow' : 'statusHigh' };
        }
        detailedStatus.humidity = humidityStatus;

        let moistureStatus = { class: 'optimal', textKey: 'statusOptimal' };
        if (data.soil_moisture < profile.moisture.caution[0] || data.soil_moisture > profile.moisture.caution[1]) {
            urgentCount++;
            moistureStatus = { class: 'urgent', textKey: data.soil_moisture < profile.moisture.caution[0] ? 'statusLow' : 'statusHigh' };
            recommendations.push({ level: 'urgent', message: `URGENT: Soil moisture is ${data.soil_moisture}%. Check irrigation system.` });
            if (!healthDetailMessage) {
                healthDetailMessage = `Soil Moisture is ${data.soil_moisture}% (Ideal: ${profile.moisture.optimal[0]}-${profile.moisture.optimal[1]}%)`;
            }
        } else if (data.soil_moisture < profile.moisture.optimal[0]) {
            cautionCount++;
            moistureStatus = { class: 'caution', textKey: 'statusLow' };
            recommendations.push({ level: 'caution', message: `CAUTION: Soil moisture is ${data.soil_moisture}%. Recommended to run irrigation.` });
            if (!healthDetailMessage) {
                healthDetailMessage = `Soil Moisture is ${data.soil_moisture}% (Ideal: ${profile.moisture.optimal[0]}-${profile.moisture.optimal[1]}%)`;
            }
        }
        detailedStatus.moisture = moistureStatus;

        let co2Status = { class: 'optimal', textKey: 'statusOptimal' };
        if (data.co2 < profile.co2.caution[0] || data.co2 > profile.co2.caution[1]) {
            urgentCount++;
            co2Status = { class: 'urgent', textKey: data.co2 < profile.co2.caution[0] ? 'statusLow' : 'statusHigh' };
            recommendations.push({ level: 'urgent', message: `URGENT: CO‚ÇÇ level is ${data.co2} ppm. Check ventilation or CO‚ÇÇ injector.` });
            if (!healthDetailMessage) {
                healthDetailMessage = `CO‚ÇÇ is ${data.co2} ppm (Ideal: ${profile.co2.optimal[0]}-${profile.co2.optimal[1]} ppm)`;
            }
        } else if (data.co2 < profile.co2.optimal[0] || data.co2 > profile.co2.optimal[1]) {
            cautionCount++;
            co2Status = { class: 'caution', textKey: data.co2 < profile.co2.optimal[0] ? 'statusLow' : 'statusHigh' };
            recommendations.push({ level: 'caution', message: `CAUTION: CO‚ÇÇ level is ${data.co2} ppm. Consider adjusting.` });
            if (!healthDetailMessage) {
                healthDetailMessage = `CO‚ÇÇ is ${data.co2} ppm (Ideal: ${profile.co2.optimal[0]}-${profile.co2.optimal[1]} ppm)`;
            }
        }
        detailedStatus.co2 = co2Status;

        let score = 100 - (urgentCount * 25) - (cautionCount * 10);
        if (score < 0) score = 0;

        let status;
        if (urgentCount > 0) {
            status = { key: 'urgent', class: 'status-urgent' };
        } else if (cautionCount > 0) {
            status = { key: 'caution', class: 'status-caution' };
        } else {
            status = { key: 'optimal', class: 'status-optimal' };
            healthDetailMessage = 'All parameters are within the optimal range.';
            score = 100;
        }

        return { status, recommendations, healthDetailMessage, detailedStatus, score: Math.round(score) };
    }

    function resetSensorReadings() {
        elements.healthScore.style.display = 'none';
        elements.healthStatusText.style.display = 'none';
        elements.improveHealthBtn.style.display = 'none';
        elements.healthDetails.textContent = translations[currentLang].deviceNotConnected;
        elements.healthDetails.style.display = 'block';
        elements.healthCard.className = 'card health-card disconnected';

        elements.sensorGrid.style.display = 'none';

        elements.temp.textContent = '--';
        elements.humidity.textContent = '--';
        elements.moisture.textContent = '--';
        elements.ph.textContent = '--';
        elements.light.textContent = '--';
        elements.npk.textContent = '--';
        elements.co2.textContent = '--';
        elements.ec.textContent = '--';
        elements.liveReadingCropName.textContent = '';

        document.querySelectorAll('.sensor-status').forEach(el => el.textContent = '');
        document.querySelectorAll('.sensor-value').forEach(el => el.className = 'sensor-value');

        elements.recommendationsList.innerHTML = `<li>${translations[currentLang].disconnected}.</li>`;
    }

    elements.cropSelector.addEventListener('change', () => {
        populateGrowthStages(elements.cropSelector.value);
        updateIdealConditionsUI();
        if (isConnected) {
            updateDashboardUI();
        }
    });

    elements.growthStageSelector.addEventListener('change', () => {
        updateIdealConditionsUI();
        if (isConnected) {
            updateDashboardUI();
        }
    });

    elements.irrigationToggle.addEventListener('change', (e) => {
        const wasActive = controlState.irrigation.active;
        controlState.irrigation.active = e.target.checked;
        if (e.target.checked) {
            controlState.irrigation.startTime = Date.now();
        } else if (wasActive) {
            controlState.irrigation.totalActiveTime += (Date.now() - controlState.irrigation.startTime);
            controlState.irrigation.startTime = null;
        }
        updateControlsUI();
    });
    elements.lightsToggle.addEventListener('change', (e) => {
        const wasActive = controlState.lights.active;
        controlState.lights.active = e.target.checked;
        if (e.target.checked) {
            controlState.lights.startTime = Date.now();
        } else if (wasActive) {
            controlState.lights.totalActiveTime += (Date.now() - controlState.lights.startTime);
            controlState.lights.startTime = null;
        }
        updateControlsUI();
    });
    elements.fanToggle.addEventListener('change', (e) => {
        const wasActive = controlState.fan.active;
        controlState.fan.active = e.target.checked;
        if (e.target.checked) {
            controlState.fan.startTime = Date.now();
        } else if (wasActive) {
            controlState.fan.totalActiveTime += (Date.now() - controlState.fan.startTime);
            controlState.fan.startTime = null;
        }
        updateControlsUI();
    });
    elements.co2InjectorToggle.addEventListener('change', (e) => {
        const wasActive = controlState.co2Injector.active;
        controlState.co2Injector.active = e.target.checked;
        if (e.target.checked) {
            controlState.co2Injector.startTime = Date.now();
        } else if (wasActive) {
            controlState.co2Injector.totalActiveTime += (Date.now() - controlState.co2Injector.startTime);
            controlState.co2Injector.startTime = null;
        }
        updateControlsUI();
    });

    const setupResetListener = (btn, control) => {
        btn.addEventListener('click', () => {
            control.totalActiveTime = 0;
            if (control.active) control.startTime = Date.now();
            updateControlsUI();
        });
    };
    setupResetListener(elements.irrigationResetBtn, controlState.irrigation);
    setupResetListener(elements.lightsResetBtn, controlState.lights);
    setupResetListener(elements.fanResetBtn, controlState.fan);
    setupResetListener(elements.co2InjectorResetBtn, controlState.co2Injector);

    elements.improveHealthBtn.addEventListener('click', () => {
        elements.recommendationsCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    elements.langSelector.addEventListener('change', (e) => {
        setLanguage(e.target.value);
    });

    elements.connectBtn.addEventListener('click', () => {
        isConnected = !isConnected;
        const t = translations[currentLang];

        if (isConnected) {
            elements.connectBtn.textContent = t.disconnect;
            elements.connectionText.textContent = t.connected;
            elements.connectionText.className = 'connected';
            elements.healthScore.style.display = 'block';
            elements.healthStatusText.style.display = 'block';
            elements.healthDetails.style.display = 'block';
            elements.sensorGrid.style.display = 'grid';
            updateDashboardUI();
            updateInterval = setInterval(updateDashboardUI, 5000);
        } else {
            elements.connectBtn.textContent = t.connect;
            elements.connectionText.textContent = t.disconnected;
            elements.connectionText.className = 'disconnected';
            clearInterval(updateInterval);
            resetSensorReadings();
        }
    });

    populateGrowthStages(elements.cropSelector.value);
    setLanguage(currentLang);
    updateControlsUI();
    updateIdealConditionsUI();
    resetSensorReadings();
    controlUpdateInterval = setInterval(updateControlsUI, 1000);

});
    </script>
</body>
</html>